workspace(name = "bazel_rules_container_nodejs_example")
load("//versions:versions.bzl", "NODEJS_VERSION")

local_repository(
  name = "bazel_rules_container",
  path = __workspace_dir__ + "/../",
)

load("@bazel_rules_container//container:repositories.bzl", "container_repositories")
container_repositories()

load("@io_bazel_rules_go//go:def.bzl", "go_repositories")
go_repositories()

load("@bazel_rules_container//container:repositories_go.bzl", "container_repositories_go")
container_repositories_go()

load("@bazel_rules_container//container:pull.bzl", "container_pull")

container_pull(
  name = "debian_jessie",
  image_name = "debian",
  image_tag = "8.7",
  image_reference = "abbe80c8c87b7e1f652fe5e99ff1799cdf9e0878c7009035afe1bccac129cad8",
)

new_http_archive(
  name = "nodejs",
  url = "https://nodejs.org/dist/v" + NODEJS_VERSION + "/node-v" + NODEJS_VERSION + "-linux-x64.tar.xz",
  sha256 = "4831ba1a9f678f91dd7e2516eaa781341651b91ac908121db902f5355f0211d8",
  build_file_content = "exports_files(['node-v" + NODEJS_VERSION + "-linux-x64'])",
)
